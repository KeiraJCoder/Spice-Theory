/* ================================
    Spice Theory — style.css (revamp, spaces-only)
    - Neutral option styling (no spice colours)
    - Modern, lively visuals
    - Keyboard & screen-reader friendly
    - Dark mode + reduced motion support
    - Hero image behind heading (faces only) + name strip (Ginger, Baby, Scary, Sporty, Posh)
    - Spice font applied to H1 (loaded from /assets)
   ================================ */

/* ================================
   0) CUSTOM FONT: SPICE
   - The "Spice" TTF only ships uppercase A–Z.
   - We add a 'SpiceCaps' face limited to A–Z to allow smart fallback (Fix 2).
   ================================ */

/* Uppercase-only slice for smart fallback (used in Fix 2) */
@font-face{
  font-family: "SpiceCaps";
  src: url("/assets/spice/Spice-Regular.ttf") format("truetype");
  font-display: swap;
  /* A–Z, space and a few basics; adjust if you need more punctuation */
  unicode-range: U+0020, U+0021-002F, U+003A-0040, U+0041-005A;
}

/* Utility stack so we don’t repeat long font lists */
:root{
  --ui-sans: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial;
}

/* ================================
   TITLE — FIX 1 (ACTIVE)
   Make the title uppercase so every character exists in Spice.
   ================================ */
#app-title{
  font-family: "Spice", var(--ui-sans);
  text-transform: uppercase;   /* ensures no missing glyphs */
  letter-spacing: .04em;
  line-height: 1.1;
  font-weight: 700;            /* Spice is display-y; keep weight modest */
}

/* --------------------------------
    1) Design tokens
   -------------------------------- */
:root {
  --bg: #f7f6fb;
  --card: #ffffff;
  --text: #13131a;
  --muted: #686a76;

  --accent: #6a5cff; /* playful purple-blue */
  --accent-2: #ff7ab6; /* warm pink */
  --accent-3: #24c8a5; /* mint */
  --ring: rgba(106, 92, 255, 0.35);

  --surface: rgba(255, 255, 255, 0.7);
  --shadow: 0 12px 30px rgba(20, 16, 53, 0.12), 0 2px 8px rgba(20, 16, 53, 0.06);
  --radius: 14px;
  --radius-sm: 10px;

  --focus: 0 0 0 3px var(--ring);
}

@media (prefers-color-scheme: dark) {
  :root {
    --bg: #0e0f13;
    --card: #151720;
    --text: #f1f2f6;
    --muted: #a2a6b3;
    --surface: rgba(21, 23, 32, 0.7);
    --shadow: 0 12px 30px rgba(0, 0, 0, 0.35), 0 2px 8px rgba(0, 0, 0, 0.25);
  }
}

/* --------------------------------
    2) Base reset
   -------------------------------- */
* { box-sizing: border-box; }
html, body { height: 100%; }

body {
  margin: 0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  color: var(--text);
  background:
    radial-gradient(1200px 800px at -10% -10%, rgba(106, 92, 255, 0.15), transparent 50%),
    radial-gradient(900px 700px at 110% 10%, rgba(255, 122, 182, 0.14), transparent 55%),
    radial-gradient(1000px 600px at 50% 120%, rgba(36, 200, 165, 0.10), transparent 60%),
    var(--bg);
}

/* --------------------------------
    3) Layout
   -------------------------------- */
.container {
  max-width: 920px;
  margin: clamp(12px, 4vw, 28px) auto;
  padding: clamp(8px, 2vw, 16px);
}

/* --------------------------------
    4) Header with hero image + overlay
    - Background image sits behind heading/lede
    - Cropped to faces
    - Heading/subheading centred
    - FIX: Names at the very bottom, pillbar just above names.
   -------------------------------- */
.site-header {
  position: relative;
  display: flex;
  flex-direction: column;
  gap: 12px;
  align-items: center;
  text-align: center;
  margin-bottom: clamp(16px, 3vw, 28px);
  padding: 16px 16px 100px;   /* room for pills + names rows */
  border-radius: var(--radius);
  overflow: hidden;
  background: var(--card);
  box-shadow: var(--shadow);
}

/* hero image */
.site-header::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: url('./assets/spice-girls-hero-home.jpg');
  background-size: cover;
  background-repeat: no-repeat;
  background-position: center 18%;
  transform: scale(1.02);
  z-index: 0;
  filter: contrast(1.02) saturate(1.02);
}

/* soft gradient overlay for legibility */
.site-header::after {
  content: '';
  position: absolute;
  inset: 0;
  background:
    linear-gradient(180deg, rgba(0, 0, 0, 0.25), rgba(0, 0, 0, 0.25)),
    radial-gradient(1000px 600px at 80% -20%, rgba(106, 92, 255, 0.25), transparent 60%);
  z-index: 1;
}

/* keep header content above the overlays */
.site-header > * {
  position: relative;
  z-index: 2;
}

/* circular accent "logo" chip */


/* main title: use installed 'Spice' font if available */
.site-header h1 {
  margin: 0;
  padding-top:15px;
  font-family: 'Spice', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  font-weight: 800;
  letter-spacing: .2px;
  font-size: clamp(2rem, 5vw, 3rem);
  line-height: 1.05;
  color: #9c2aed;
  text-shadow: 0px 3px rgb(0, 0, 0);
}

/* subheading ("Personality Quiz") */
.site-header .subtitle {
  margin: 0 0 4px;
  font-weight: 700;
  font-size: clamp(1rem, 2.2vw, 1.25rem);
  color: rgba(255, 255, 255, .95);
  text-shadow: 0 1px 8px rgb(0, 0, 0);
}

/* descriptive line under the subtitle */
.lede {
  margin: 0;
  color: rgba(255, 255, 255, 0.9);
  font-size: clamp(.95rem, 1.3vw, 1.05rem);
  text-shadow: 0 1px 8px rgb(0, 0, 0);
}

.names-strip {
  position: absolute;
  bottom: 12px;
  width: 100%;
}
.names-strip .name {
  position: absolute;
  bottom: 0;
  font-weight: 800;
  font-size: 1rem;
}
.names-strip .name:nth-child(1) { left: 14%; }  /* Ginger */
.names-strip .name:nth-child(2) { left: 32%; }  /* Baby */
.names-strip .name:nth-child(3) { left: 47%; }  /* Scary */
.names-strip .name:nth-child(4) { left: 65%; }  /* Sporty */
.names-strip .name:nth-child(5) { left: 87%; }  /* Posh */

/* Exact colours for each name label */
.name--ginger { color: #ff7b00; }   /* orange */
.name--baby   { color: #ff7ab6; }   /* pink (matches --accent-2) */
.name--scary  { color: #f0e857; }   /* dark purple */
.name--sporty { color: #2b6eff; }   /* royal blue */
.name--posh   { color: #000000; }   /* black */

/* Keep coloured text readable over the photo */
.names-strip .name{
  text-shadow:
    0 1px rgb(239, 239, 239),
    0 1px rgb(160, 75, 75);
  
}

.names-strip .name{
  text-shadow:
    0 0 2px rgba(0,0,0,.6),
    0 1px 10px rgba(0,0,0,.45);
}
@supports (-webkit-text-stroke: 1px black){
  .names-strip .name{ -webkit-text-stroke: .6px rgba(0,0,0,.55); }
  .name--posh{ -webkit-text-stroke: .8px rgb(255, 255, 255); } /* black text over dark */
  .name--scary{ -webkit-text-stroke: .8px rgb(21, 202, 187); } /* black text over dark */
}



/* --------------------------------
    6) Progress
   -------------------------------- */
.progress { margin: 10px 0 14px; }

.progressbar {
  width: 100%;
  height: 12px;
  border-radius: 999px;
  overflow: hidden;
  background: linear-gradient(180deg, rgba(0, 0, 0, 0.08), rgba(0, 0, 0, 0.04));
  border: 1px solid rgba(120, 120, 140, 0.16);
}

.progressbar #bar {
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg, var(--accent), var(--accent-2), var(--accent-3));
  transition: width 0.35s ease;
}

#progressText {
  margin-top: 6px;
  color: var(--muted);
  font-size: 0.95rem;
}

/* --------------------------------
    7) Card
   -------------------------------- */
.card {
  background: var(--card);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: clamp(14px, 2.2vw, 20px);
}

/* --------------------------------
    8) Form / Question
   -------------------------------- */
fieldset { border: 0; margin: 0; padding: 0; }

legend {
  font-weight: 700;
  font-size: clamp(1.05rem, 1.4vw, 1.15rem);
  margin-bottom: 10px;
}

/* radio rows */
.options { display: grid; gap: 10px; }

.option {
  display: grid;
  grid-template-columns: 22px 1fr;
  align-items: flex-start;
  gap: 12px;
  padding: 12px 14px;
  border-radius: var(--radius-sm);
  border: 1px solid rgba(120, 120, 140, 0.18);
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.35));
  backdrop-filter: blur(6px);
  transition: transform 0.08s ease, box-shadow 0.18s ease, border-color 0.18s ease, background 0.18s ease;
}

/* >>> RADIO BUTTON — refreshed look (only this block changed/extended) */
.option input[type='radio'] {
  margin-top: 3px;
  width: 20px;
  height: 20px;
  appearance: none;
  border-radius: 50%;
  border: 2px solid var(--accent);
  background: #fff;
  cursor: pointer;
  outline: none;
  transition: box-shadow .2s ease, transform .12s ease, border-color .2s ease, background .2s ease;
}

.option input[type='radio']:hover {
  box-shadow: 0 0 0 4px rgba(106, 92, 255, 0.12);
}

.option input[type='radio']:focus-visible {
  box-shadow: 0 0 0 3px var(--ring);
}

.option input[type='radio']:checked {
  border-color: transparent;
  background: radial-gradient(circle at 50% 50%,
              var(--accent) 0%, var(--accent-2) 60%, var(--accent-3) 100%);
  box-shadow: 0 0 0 4px rgba(106, 92, 255, 0.18);
  transform: scale(0.98);
}

.option span { line-height: 1.35; }

.option:hover {
  transform: translateY(-1px);
  box-shadow: 0 6px 16px rgba(20, 16, 53, 0.08);
  border-color: rgba(106, 92, 255, 0.35);
}

.option:has(input[type='radio']:checked) {
  border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(106, 92, 255, 0.18);
  background: linear-gradient(180deg, rgba(106, 92, 255, 0.09), rgba(255, 255, 255, 0.6));
}

/* --------------------------------
    9) Controls (buttons)
   -------------------------------- */
.controls {
  margin-top: 14px;
  display: flex;
  justify-content: space-between;
  gap: 10px;
  flex-wrap: wrap;
}

.controls .control-right { display: flex; gap: 8px; }

button {
  appearance: none;
  border: 0;
  cursor: pointer;
  padding: 10px 14px;
  border-radius: 12px;
  font-weight: 700;
  letter-spacing: 0.2px;
  color: #fff;
  background: linear-gradient(180deg, #222, #111);
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.18);
  transition: transform 0.08s ease, box-shadow 0.18s ease, opacity 0.18s ease, background 0.18s ease;
}

button:hover {
  transform: translateY(-1px);
  box-shadow: 0 12px 24px rgba(0, 0, 0, 0.22);
}

button:active {
  transform: translateY(0);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.22);
}

button.secondary {
  color: var(--text);
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.85), rgba(240, 240, 244, 0.8));
  border: 1px solid rgba(120, 120, 140, 0.18);
  box-shadow: 0 6px 12px rgba(20, 16, 53, 0.08);
}

button:disabled { opacity: 0.55; cursor: not-allowed; }

/* --------------------------------
    10) Results
   -------------------------------- */
.result { display: grid; gap: 12px; text-align: center; }

#resultTitle {
  font-size: clamp(1.4rem, 3vw, 1.9rem);
  margin: 2px 0 4px;
}

#resultBlurb { color: var(--muted); }

/* make both result columns equal width */
#result .grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
  align-items: start;
}

/* uniform image box for both results */
.result-img {
  display: block;
  width: 100%;
  height: 320px;         /* uniform height */
  object-fit: cover;     /* fill box, may crop */
  object-position: top;  /* always show top edge */
  border-radius: 10px;
  margin-bottom: 10px;
}

/* Map spice classes to the highlight colour (same as name-strip) */
.highlight-primary.ginger { --hi: #ff7b00; }  /* Ginger */
.highlight-primary.baby   { --hi: #ff7ab6; }  /* Baby   */
.highlight-primary.scary  { --hi: #f0e857; }  /* Scary  */
.highlight-primary.sporty { --hi: #2b6eff; }  /* Sporty */
.highlight-primary.posh   { --hi: #000000; }  /* Posh   */


/* Primary card visuals use --hi, which we set per spice */
.highlight-primary {
  /* default/fallback */
  --hi: var(--accent);

  border: 2px solid var(--hi);
  border-radius: var(--radius-sm);
  padding: 8px;

  /* soft tint using the chosen colour */
  background:
    linear-gradient(
      180deg,
      color-mix(in srgb, var(--hi) 14%, transparent),
      rgba(255, 255, 255, 0.40)
    );
}

.highlight-primary h3 {
  font-weight: 800;
  color: var(--hi);
}

.highlight-primary p { font-weight: 600; }

/* Fallback if color-mix() is unsupported */
@supports not (color: color-mix(in srgb, white, black)) {
  .highlight-primary {
    background:
      linear-gradient(180deg, rgba(106, 92, 255, 0.14), rgba(255,255,255,0.40));
  }
}

/* When only one result card is visible (pure/double) */
#result .grid:only-child,
#result .grid:has(.hidden) {
  grid-template-columns: 1fr;
  justify-items: center;   /* centre the single card */
}

#result .grid:has(.hidden) > div:not(.hidden) {
  max-width: 480px;        /* optional, keeps it tidy */
  margin: 0 auto;
}


.badge.pill {
  display: inline-block;
  padding: 8px 12px;
  border-radius: 999px;
  background: linear-gradient(180deg, var(--surface), rgba(255, 255, 255, 0.35));
  border: 1px solid rgba(120, 120, 140, 0.18);
  font-weight: 700;
  margin-right: 6px;
}

.grid {
  display: grid;
  gap: 14px;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
}

.muted { color: var(--muted); }
.hidden { display: none !important; }


.highlight-primary p { font-weight: 600; }

/* --------------------------------
    11) Focus ring & reduced motion
   -------------------------------- */
:focus-visible {
  outline: none;
  box-shadow: var(--focus);
  border-radius: 10px;
}

@media (prefers-reduced-motion: reduce) {
  * {
    animation: none !important;
    transition: none !important;
  }
}

/* --------------------------------
    12) Small screen tweaks
   -------------------------------- */
@media (max-width: 560px) {
  .site-header { align-items: center; padding-bottom: 56px; }

  .controls { gap: 8px; }

  /* Names remain at the very bottom; lift pills a touch on small screens */
  .names-strip { bottom: 8px; padding: 0 10px; }
  .site-header .pillbar,
  .site-header #pillbar { bottom: 48px; }
  .names-strip .name { font-size: 0.85rem; }
}
